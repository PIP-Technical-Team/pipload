<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="provides a series of tools to load into memory the PIP microdata.
    You can load and update the inventory of PIP microdata, as well as find the
    data most rencet version of each country-year-survey data point.">
<title>Load PIP microdata into memory â€¢ pipload</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Load PIP microdata into memory">
<meta property="og:description" content="provides a series of tools to load into memory the PIP microdata.
    You can load and update the inventory of PIP microdata, as well as find the
    data most rencet version of each country-year-survey data point.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">pipload</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8.9010</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="pipload">pipload<a class="anchor" aria-label="anchor" href="#pipload"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of <code>pipload</code> is to provide a series of tools to load into memory the PIP microdata. You can load and update the inventory of PIP microdata, as well as find the data most recent version of each country-year-survey data point.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"PIP-Technical-Team/pipload"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Load library</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pip-technical-team.github.io/pipload/">pipload</a></span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="microdata">Microdata<a class="anchor" aria-label="anchor" href="#microdata"></a>
</h3>
<p>Load Two datasets for Paraguay for the Poverty Calculator tool:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Find the data available. </span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_find_data.html">pip_find_data</a></span><span class="op">(</span>
             country <span class="op">=</span> <span class="st">"PRY"</span>,
             year    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2017</span>, <span class="fl">2018</span><span class="op">)</span>,
             tool    <span class="op">=</span> <span class="st">"PC"</span>
<span class="op">)</span>

<span class="va">df</span><span class="op">$</span><span class="va">filename</span>
<span class="co">#&gt; [1] "PRY_2017_EPH_V01_M_V01_A_PIP_PC-GPWG.dta"</span>
<span class="co">#&gt; [2] "PRY_2018_EPH_V01_M_V02_A_PIP_PC-GPWG.dta"</span>

<span class="co"># load the data</span>
<span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_find_data.html">pip_find_data</a></span><span class="op">(</span>
             country <span class="op">=</span> <span class="st">"PRY"</span>,
             year    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2017</span>, <span class="fl">2018</span><span class="op">)</span>,
             tool    <span class="op">=</span> <span class="st">"PC"</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span>
<span class="co">#&gt;  [1] "orig"           "filename"       "country_code"   "year"          </span>
<span class="co">#&gt;  [5] "survey_acronym" "vermast"        "veralt"         "collection"    </span>
<span class="co">#&gt;  [9] "module"         "tool"           "source"</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="load-auxiliary-data">load Auxiliary data<a class="anchor" aria-label="anchor" href="#load-auxiliary-data"></a>
</h3>
<p>Load different types of auxiliary data</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load CPI</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_load_aux.html">pip_load_aux</a></span><span class="op">(</span><span class="st">"cpi"</span><span class="op">)</span>
<span class="co">#&gt; Most recent version of data loaded</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt;   country_code surveyid_year reference_year        cpi ccf cpi_domain</span>
<span class="co">#&gt; 1          AGO          2000        2000.21 0.03384806   1          1</span>
<span class="co">#&gt; 2          AGO          2008        2008.50 0.72333720   1          1</span>
<span class="co">#&gt; 3          AGO          2018        2018.17 3.06059498   1          1</span>
<span class="co">#&gt; 4          ALB          1996        1996.00 0.44443273   1          1</span>
<span class="co">#&gt; 5          ALB          2002        2002.00 0.78028772   1          1</span>
<span class="co">#&gt; 6          ALB          2005        2005.00 0.83847346   1          1</span>
<span class="co">#&gt;   cpi_data_level survey_acronym</span>
<span class="co">#&gt; 1       national            HBS</span>
<span class="co">#&gt; 2       national      IBEP-MICS</span>
<span class="co">#&gt; 3       national          IDREA</span>
<span class="co">#&gt; 4       national            EWS</span>
<span class="co">#&gt; 5       national           LSMS</span>
<span class="co">#&gt; 6       national           LSMS</span>

<span class="co"># load PPP</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_load_aux.html">pip_load_aux</a></span><span class="op">(</span><span class="st">"ppp"</span><span class="op">)</span>
<span class="co">#&gt; Most recent version of data loaded</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt;   country_code ppp_year release_version adaptation_version      ppp ppp_default</span>
<span class="co">#&gt; 1          ABW     2005              v1                 v1       NA       FALSE</span>
<span class="co">#&gt; 2          ABW     2011              v1                 v1 1.652751       FALSE</span>
<span class="co">#&gt; 3          ABW     2011              v1                 v2 1.652751       FALSE</span>
<span class="co">#&gt; 4          ABW     2011              v2                 v1 1.637763       FALSE</span>
<span class="co">#&gt; 5          ABW     2011              v2                 v2 1.637763        TRUE</span>
<span class="co">#&gt; 6          ABW     2017              v1                 v1 1.480481       FALSE</span>
<span class="co">#&gt;   ppp_default_by_year ppp_domain ppp_data_level</span>
<span class="co">#&gt; 1                TRUE          1       national</span>
<span class="co">#&gt; 2               FALSE          1       national</span>
<span class="co">#&gt; 3               FALSE          1       national</span>
<span class="co">#&gt; 4               FALSE          1       national</span>
<span class="co">#&gt; 5                TRUE          1       national</span>
<span class="co">#&gt; 6                TRUE          1       national</span>

<span class="co"># Load GDP</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_load_aux.html">pip_load_aux</a></span><span class="op">(</span><span class="st">"gdp"</span><span class="op">)</span>
<span class="co">#&gt; Most recent version of data loaded</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt;   country_code year gdp_data_level      gdp gdp_domain</span>
<span class="co">#&gt; 1          ABW 1986              2 15669.62          1</span>
<span class="co">#&gt; 2          ABW 1987              2 18427.61          1</span>
<span class="co">#&gt; 3          ABW 1988              2 22134.02          1</span>
<span class="co">#&gt; 4          ABW 1989              2 24837.95          1</span>
<span class="co">#&gt; 5          ABW 1990              2 25357.79          1</span>
<span class="co">#&gt; 6          ABW 1991              2 26329.31          1</span>

<span class="va">measure</span> <span class="op">&lt;-</span> <span class="st">"cpi"</span>

<span class="co"># see versions available</span>
<span class="va">df</span>      <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_load_aux.html">pip_load_aux</a></span><span class="op">(</span><span class="va">measure</span>, version <span class="op">=</span> <span class="st">"available"</span><span class="op">)</span>
<span class="co">#&gt; Versions available for cpi</span>
<span class="co">#&gt;  [1] "2020-09-25 23:30:28 EDT" "2020-09-23 07:37:31 EDT"</span>
<span class="co">#&gt;  [3] "2020-09-22 21:30:54 EDT" "2020-09-22 21:14:13 EDT"</span>
<span class="co">#&gt;  [5] "2020-09-08 11:44:31 EDT" "2020-09-08 11:42:41 EDT"</span>
<span class="co">#&gt;  [7] "2020-09-08 11:41:11 EDT" "2020-08-24 14:25:08 EDT"</span>
<span class="co">#&gt;  [9] "2020-08-24 14:22:42 EDT" "2020-08-24 10:14:32 EDT"</span>
<span class="co">#&gt; [11] "2020-08-11 10:24:42 EDT" "2020-08-11 10:17:47 EDT"</span>
<span class="co">#&gt; [13] "2020-08-11 10:09:44 EDT" "2020-08-07 10:15:48 EDT"</span>
<span class="co">#&gt; [15] "2020-08-06 14:22:36 EDT"</span>
<span class="va">df</span>
<span class="co">#&gt;  [1] "20200925233028" "20200923073731" "20200922213054" "20200922211413"</span>
<span class="co">#&gt;  [5] "20200908114431" "20200908114241" "20200908114111" "20200824142508"</span>
<span class="co">#&gt;  [9] "20200824142242" "20200824101432" "20200811102442" "20200811101747"</span>
<span class="co">#&gt; [13] "20200811100944" "20200807101548" "20200806142236"</span>

<span class="co"># Load version of "2020-08-07 10:15:48 EDT"</span>
<span class="va">df</span>      <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_load_aux.html">pip_load_aux</a></span><span class="op">(</span><span class="va">measure</span>, version <span class="op">=</span> <span class="st">"20200807101548"</span><span class="op">)</span>
<span class="co">#&gt; Version of data loaded: 2020-08-07 10:15:48</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt;   country_code surveyid_year reference_year    cpi2011 ccf datalevel</span>
<span class="co">#&gt; 1          AGO          2000        2000.21 0.03384806   1         2</span>
<span class="co">#&gt; 2          AGO          2008        2008.50 0.72333720   1         2</span>
<span class="co">#&gt; 3          AGO          2018        2018.17 3.06059498   1         2</span>
<span class="co">#&gt; 4          ALB          1996        1996.00 0.44443273   1         2</span>
<span class="co">#&gt; 5          ALB          2002        2002.00 0.78028772   1         2</span>
<span class="co">#&gt; 6          ALB          2005        2005.00 0.83847346   1         2</span>

<span class="co"># Load one version before current one (i.e., load previous version)</span>
<span class="va">df</span>      <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_load_aux.html">pip_load_aux</a></span><span class="op">(</span><span class="va">measure</span>, version <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; Version of data loaded: 2020-09-23 07:37:31</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt;   country_code surveyid_year reference_year        cpi ccf cpi_domain</span>
<span class="co">#&gt; 1          AGO          2000        2000.21 0.03384806   1          1</span>
<span class="co">#&gt; 2          AGO          2008        2008.50 0.72333720   1          1</span>
<span class="co">#&gt; 3          AGO          2018        2018.17 3.06059498   1          1</span>
<span class="co">#&gt; 4          ALB          1996        1996.00 0.44443273   1          1</span>
<span class="co">#&gt; 5          ALB          2002        2002.00 0.78028772   1          1</span>
<span class="co">#&gt; 6          ALB          2005        2005.00 0.83847346   1          1</span>
<span class="co">#&gt;   cpi_data_level survey_acronym</span>
<span class="co">#&gt; 1       national            HBS</span>
<span class="co">#&gt; 2       national      IBEP-MICS</span>
<span class="co">#&gt; 3       national          IDREA</span>
<span class="co">#&gt; 4       national            EWS</span>
<span class="co">#&gt; 5       national           LSMS</span>
<span class="co">#&gt; 6       national           LSMS</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="inventory-of-microdata">Inventory of microdata<a class="anchor" aria-label="anchor" href="#inventory-of-microdata"></a>
</h3>
<p>Check if inventory is up to data and udpate</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Update inventory of PRY</span>
<span class="fu"><a href="reference/pip_inventory.html">pip_inventory</a></span><span class="op">(</span><span class="st">"update"</span>, country <span class="op">=</span> <span class="st">"PRY"</span><span class="op">)</span>
<span class="co">#&gt; data inventory changed for PRY.</span>
<span class="co">#&gt; Data signature has changed, it was not found, or update was forced.</span>
<span class="co">#&gt;  `inventory.fst` has been updated</span>

<span class="co"># Load inventory</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pip_inventory.html">pip_inventory</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">df</span><span class="op">$</span><span class="va">filename</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>
<span class="co">#&gt; [1] "AFG_2007_NRVA_V01_M_V05_A_PIP_PC-GPWG.dta"</span>
<span class="co">#&gt; [2] "AFG_2007_NRVA_V01_M_V05_A_PIP_TB-ALL.dta" </span>
<span class="co">#&gt; [3] "AFG_2011_NRVA_V01_M_V05_A_PIP_PC-GPWG.dta"</span>
<span class="co">#&gt; [4] "AFG_2011_NRVA_V01_M_V05_A_PIP_TB-ALL.dta" </span>
<span class="co">#&gt; [5] "AGO_2000_HBS_V01_M_V01_A_PIP_PC-GPWG.dta"</span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing pipload</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>R.Andres Castaneda <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by R.Andres Castaneda.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
