% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pip_load_aux.R
\name{pip_load_aux}
\alias{pip_load_aux}
\title{Load any auxiliary data}
\usage{
pip_load_aux(
  measure,
  branch = c("DEV", "PROD", "main"),
  version = NULL,
  root_dir = Sys.getenv("PIP_ROOT_DIR"),
  maindir = pipfun::pip_create_globals(root_dir)$PIP_DATA_DIR,
  msrdir = fs::path(maindir, "_aux", match.arg(branch), measure),
  filename = measure,
  file_to_load = lifecycle::deprecated(),
  apply_label = TRUE,
  verbose = getOption("pipload.verbose"),
  preferred_format = NULL
)
}
\arguments{
\item{measure}{character: Measure to be used. e.g., "cpi" or "ppp". It can't
be \code{NULL} anymore as it requires a main auxiliary directory}

\item{branch}{character: Either "DEV", "PROD", or "main". Refers to which
version of the data is being updated. Default is DEV for development.}

\item{version}{An integer or a quoted directive. "available": displays list
of available versions for \code{measure}. "select"|"pick"|"choose": allows user
to select the vintage of \code{measure}. if the integer is a zero or a negative
number (e.g., \code{-1}), \code{pip_load_aux} will load that number of versions
before the most recent version available. So, if \code{0}, it loads the current
version. If \code{-1}, it will load the version before the current, \code{-2} loads
two versions before the current one, and so on. If it is a positive number,
it must be quoted (as character) and in the form "\%Y\%m\%d\%H\%M\%S". If "00",
it load the most recent version of the data (similar to \code{version = 0} or
\code{version = NULL} or \code{version = "0"}). The difference is that \code{"00"} load
the most recent version of the vintage folder, rather than the current
version in the dynamic folder. Thus, attribute "version" in \code{attr(dd, "version")} is the actual version of the most recent vintage of the file
rather that \code{attr(dd, "version")} equal to "current", which is the default.
Option "00" is useful for vintage control}

\item{root_dir}{character: root directory of the PIP data}

\item{maindir}{character: main directory. By default it
uses \code{pipfun::pip_create_globals(root_dir)$PIP_DATA_DIR}}

\item{msrdir}{character: measure directory. Default is
\code{fs::path(maindir,"_aux", match.arg(branch), measure)}}

\item{filename}{character: name of file if different from \code{measure}. Default
is \code{measure}}

\item{file_to_load}{\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#deprecated}{\figure{lifecycle-deprecated.svg}{options: alt='[Deprecated]'}}}{\strong{[Deprecated]}} \code{file_to_load} has
been superseded for a more convenient combination of \code{filename} and
\code{msrdir}. Now, it defaults to \code{filename}}

\item{apply_label}{logical: if TRUE, predefined labels will apply to data
loaded using \code{file_to_load} argument. Default TRUE. Tip: change to FALSE if
the main structure of data has changed and labels have not been updated}

\item{verbose}{logical: whether to display message. Default is TRUE}

\item{preferred_format}{character: preferred format. default is "fst".}

\item{suffix}{character: suffix to be added to main measure name. Some
measures have complementary data that depend directly from the main measure
file. They are intended to be used for metadata purposes and efficiency.
These complementary data is not used for development of new tools. for
instance, \code{pip_load_aux(measure = "ppp", suffix = "vintage")} loads the
vintage available for the PPP database}
}
\value{
data.table
}
\description{
Load any auxiliary data
}
\examples{
# Load CPI
cpi <- pip_load_aux("cpi")

# load PPP
ppp <- pip_load_aux("ppp")

# Load GDP
gdp <- pip_load_aux("gdp")

measure <- "cpi"
av      <- pip_load_aux(measure, version = "available")
head(av)
df      <- pip_load_aux(measure, version = av[1])
head(df)
\dontrun{
df      <- pip_load_aux(measure, version = -1)
head(df)
df      <- pip_load_aux(measure, version = "pick")
}
}
